{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/GaneshSurna/Desktop/react-redux/shopping-cart-redux-async-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/GaneshSurna/Desktop/react-redux/shopping-cart-redux-async-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { uiActions } from \"./ui-slice\";\nimport { cartActions } from \"./cart-slice\";\nexport var putRequest = function putRequest(cart) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch) {\n      var putHttpRequest, _putHttpRequest;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _putHttpRequest = function _putHttpRequest3() {\n              _putHttpRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                var response;\n                return _regeneratorRuntime().wrap(function _callee$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return fetch(\"https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json\", {\n                        method: \"PUT\",\n                        body: JSON.stringify({\n                          cartItems: cart.cartItems,\n                          totalQuantity: cart.totalQuantity\n                        })\n                      });\n                    case 2:\n                      response = _context.sent;\n                      if (response.ok) {\n                        _context.next = 5;\n                        break;\n                      }\n                      throw new Error(\"Error\");\n                    case 5:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }, _callee);\n              }));\n              return _putHttpRequest.apply(this, arguments);\n            };\n            putHttpRequest = function _putHttpRequest2() {\n              return _putHttpRequest.apply(this, arguments);\n            };\n            dispatch(uiActions.setNotification({\n              status: \"pending\",\n              title: \"Pending...\",\n              message: \"Sending cart data!\"\n            }));\n            _context2.prev = 3;\n            _context2.next = 6;\n            return putHttpRequest();\n          case 6:\n            dispatch(uiActions.setNotification({\n              status: \"success\",\n              title: \"Success!\",\n              message: \"Successfully sent cart data!\"\n            }));\n            _context2.next = 12;\n            break;\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](3);\n            dispatch(uiActions.setNotification({\n              status: \"error\",\n              title: \"Error!\",\n              message: \"Failed to send cart data!\"\n            }));\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[3, 9]]);\n    }));\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var getRequest = function getRequest() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch) {\n      var getHttpRequest, _getHttpRequest, data;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _getHttpRequest = function _getHttpRequest3() {\n              _getHttpRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n                var response;\n                return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                  while (1) switch (_context3.prev = _context3.next) {\n                    case 0:\n                      _context3.next = 2;\n                      return fetch(\"https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json\");\n                    case 2:\n                      response = _context3.sent;\n                      if (response.ok) {\n                        _context3.next = 5;\n                        break;\n                      }\n                      throw new Error(\"Error\");\n                    case 5:\n                      return _context3.abrupt(\"return\", response.cart);\n                    case 6:\n                    case \"end\":\n                      return _context3.stop();\n                  }\n                }, _callee3);\n              }));\n              return _getHttpRequest.apply(this, arguments);\n            };\n            getHttpRequest = function _getHttpRequest2() {\n              return _getHttpRequest.apply(this, arguments);\n            };\n            dispatch(uiActions.setNotification({\n              status: \"pending\",\n              title: \"Pending...\",\n              message: \"Fetching cart data!\"\n            }));\n            _context4.prev = 3;\n            _context4.next = 6;\n            return getHttpRequest();\n          case 6:\n            data = _context4.sent;\n            dispatch(cartActions.replaceCart({\n              items: data.cartItems || [],\n              totalQuantity: data.totalQuantity\n            }));\n            dispatch(uiActions.setNotification({\n              status: \"success\",\n              title: \"Success!\",\n              message: \"Successfully fetched cart data!\"\n            }));\n            _context4.next = 14;\n            break;\n          case 11:\n            _context4.prev = 11;\n            _context4.t0 = _context4[\"catch\"](3);\n            dispatch(uiActions.setNotification({\n              status: \"error\",\n              title: \"Error!\",\n              message: \"Failed to fetch cart data!\"\n            }));\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[3, 11]]);\n    }));\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"names":["uiActions","cartActions","putRequest","cart","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","dispatch","putHttpRequest","_putHttpRequest","wrap","_callee2$","_context2","prev","next","_putHttpRequest3","_callee","response","_callee$","_context","fetch","method","body","JSON","stringify","cartItems","totalQuantity","sent","ok","Error","stop","apply","arguments","_putHttpRequest2","setNotification","status","title","message","t0","_x","getRequest","_ref2","_callee4","getHttpRequest","_getHttpRequest","data","_callee4$","_context4","_getHttpRequest3","_callee3","_callee3$","_context3","abrupt","_getHttpRequest2","replaceCart","items","_x2"],"sources":["C:/Users/GaneshSurna/Desktop/react-redux/shopping-cart-redux-async-practice/src/store/customActionCreators.js"],"sourcesContent":["import { uiActions } from \"./ui-slice\";\r\nimport { cartActions } from \"./cart-slice\";\r\n\r\n\r\nexport const putRequest=(cart)=>{\r\n    return async(dispatch)=>{\r\n            dispatch(uiActions.setNotification({\r\n                status:\"pending\",\r\n                title:\"Pending...\",\r\n                message:\"Sending cart data!\"\r\n            }));\r\n            async function putHttpRequest(){\r\n                const response= await fetch(\"https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json\",{\r\n                    method: \"PUT\",\r\n                    body: JSON.stringify({\r\n                        cartItems:cart.cartItems,\r\n                        totalQuantity:cart.totalQuantity\r\n                    }),\r\n                });\r\n        \r\n                if(!response.ok){\r\n                    throw new Error(\"Error\");\r\n                }\r\n            }\r\n\r\n        try{\r\n            await putHttpRequest();\r\n            dispatch(uiActions.setNotification({\r\n                status:\"success\",\r\n                title:\"Success!\",\r\n                message:\"Successfully sent cart data!\",\r\n            }));\r\n        }\r\n        catch(err){\r\n            dispatch(uiActions.setNotification({\r\n                status:\"error\",\r\n                title:\"Error!\",\r\n                message:\"Failed to send cart data!\",\r\n            }));\r\n        }\r\n    }\r\n}\r\n\r\nexport const getRequest=()=>{\r\n    return async(dispatch)=>{\r\n            dispatch(uiActions.setNotification({\r\n                status:\"pending\",\r\n                title:\"Pending...\",\r\n                message:\"Fetching cart data!\"\r\n            }));\r\n            async function getHttpRequest(){\r\n                const response= await fetch(\"https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json\");\r\n        \r\n                if(!response.ok){\r\n                    throw new Error(\"Error\");\r\n                }\r\n\r\n                return response.cart;\r\n            }\r\n\r\n        try{\r\n            const data=await getHttpRequest();\r\n            dispatch(cartActions.replaceCart({items:data.cartItems || [], totalQuantity:data.totalQuantity}));\r\n            dispatch(uiActions.setNotification({\r\n                status:\"success\",\r\n                title:\"Success!\",\r\n                message:\"Successfully fetched cart data!\",\r\n            }));\r\n        }\r\n        catch(err){\r\n            dispatch(uiActions.setNotification({\r\n                status:\"error\",\r\n                title:\"Error!\",\r\n                message:\"Failed to fetch cart data!\",\r\n            }));\r\n        }\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}