{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/GaneshSurna/Desktop/react-redux/advanced-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/GaneshSurna/Desktop/react-redux/advanced-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { uiActions } from './ui-slice';\nimport { cartActions } from './cart-slice';\nexport var fetchCartData = function fetchCartData() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch) {\n      var fetchHttp, cartData;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            fetchHttp = /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                var response, data;\n                return _regeneratorRuntime().wrap(function _callee$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return fetch('https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json');\n                    case 2:\n                      response = _context.sent;\n                      if (response.ok) {\n                        _context.next = 5;\n                        break;\n                      }\n                      throw new Error(\"Fetching cart data failed\");\n                    case 5:\n                      _context.next = 7;\n                      return response.json();\n                    case 7:\n                      data = _context.sent;\n                      return _context.abrupt(\"return\", data);\n                    case 9:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }, _callee);\n              }));\n              return function fetchHttp() {\n                return _ref2.apply(this, arguments);\n              };\n            }();\n            _context2.prev = 1;\n            _context2.next = 4;\n            return fetchHttp();\n          case 4:\n            cartData = _context2.sent;\n            dispatch(cartActions.replaceCart({\n              items: cartData.items || [],\n              // items should not be undefined\n              totalQuantity: cartData.totalQuantity\n            }));\n            _context2.next = 11;\n            break;\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](1);\n            dispatch(uiActions.showNotification({\n              status: 'error',\n              title: 'Error!',\n              message: 'Fetching cart data failed!'\n            }));\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[1, 8]]);\n    }));\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var sendCartDataCustomActionCreator = function sendCartDataCustomActionCreator(cart) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch) {\n      var sendHttpRequest;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            dispatch(uiActions.showNotification({\n              status: 'pending',\n              title: 'Sending...',\n              message: 'Sending cart data!'\n            }));\n            sendHttpRequest = /*#__PURE__*/function () {\n              var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n                var response;\n                return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                  while (1) switch (_context3.prev = _context3.next) {\n                    case 0:\n                      _context3.next = 2;\n                      return fetch('https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json', {\n                        method: 'PUT',\n                        body: JSON.stringify(cart)\n                      });\n                    case 2:\n                      response = _context3.sent;\n                      if (response.ok) {\n                        _context3.next = 5;\n                        break;\n                      }\n                      throw new Error('Sending cart data failed.');\n                    case 5:\n                    case \"end\":\n                      return _context3.stop();\n                  }\n                }, _callee3);\n              }));\n              return function sendHttpRequest() {\n                return _ref4.apply(this, arguments);\n              };\n            }();\n            _context4.prev = 2;\n            _context4.next = 5;\n            return sendHttpRequest();\n          case 5:\n            dispatch(uiActions.showNotification({\n              status: 'success',\n              title: 'Success!',\n              message: 'Sent cart data successfully!'\n            }));\n            _context4.next = 11;\n            break;\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](2);\n            dispatch(uiActions.showNotification({\n              status: 'error',\n              title: 'Error!',\n              message: 'Sending cart data failed!'\n            }));\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[2, 8]]);\n    }));\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\n\n// export const sendCartDataCustomActionCreator=(cart)=>{\n\n//     return (dispatch)=>{\n//         dispatch(\n//             uiActions.showNotification({\n//                 status: 'pending',\n//                 title: 'Sending...',\n//                 message: 'Sending cart data!',\n//             })\n//         );\n\n//         fetch(\n//             'https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json',\n//             {\n//                 method: 'PUT',\n//                 body: JSON.stringify(cart),\n//             }\n//         ).then(()=>{\n//             dispatch(\n//                 uiActions.showNotification({\n//                     status: 'success',\n//                     title: 'Success!',\n//                     message: 'Sent cart data successfully!',\n//                 })\n//             );\n//         }).catch((error)=>{\n//             dispatch(\n//                 uiActions.showNotification({\n//                     status: 'error',\n//                     title: 'Error!',\n//                     message: 'Sending cart data failed!',\n//                 })\n//             );\n//         })\n//     }\n// }","map":{"version":3,"names":["uiActions","cartActions","fetchCartData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","dispatch","fetchHttp","cartData","wrap","_callee2$","_context2","prev","next","_ref2","_callee","response","data","_callee$","_context","fetch","sent","ok","Error","json","abrupt","stop","apply","arguments","replaceCart","items","totalQuantity","t0","showNotification","status","title","message","_x","sendCartDataCustomActionCreator","cart","_ref3","_callee4","sendHttpRequest","_callee4$","_context4","_ref4","_callee3","_callee3$","_context3","method","body","JSON","stringify","_x2"],"sources":["C:/Users/GaneshSurna/Desktop/react-redux/advanced-redux/src/store/cartCustomActionCreators.js"],"sourcesContent":["import { uiActions } from './ui-slice';\r\nimport { cartActions } from './cart-slice';\r\n\r\nexport const fetchCartData=()=>{\r\n    return async (dispatch)=>{\r\n        const fetchHttp=async ()=>{\r\n            const response=await fetch('https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json');\r\n\r\n            if(!response.ok){\r\n                throw new Error(\"Fetching cart data failed\");\r\n            }\r\n\r\n            const data= await response.json();\r\n\r\n            return data;\r\n        };\r\n        try{\r\n            const cartData=await fetchHttp();\r\n            dispatch(cartActions.replaceCart({\r\n                items:cartData.items || [], // items should not be undefined\r\n                totalQuantity:cartData.totalQuantity,\r\n            }));\r\n        }\r\n        catch(error){\r\n            dispatch(\r\n                uiActions.showNotification({\r\n                    status: 'error',\r\n                    title: 'Error!',\r\n                    message: 'Fetching cart data failed!',\r\n                })\r\n            );\r\n        }\r\n\r\n    };\r\n};\r\n\r\nexport const sendCartDataCustomActionCreator=(cart)=>{\r\n    return async (dispatch)=>{\r\n        dispatch(\r\n            uiActions.showNotification({\r\n              status: 'pending',\r\n              title: 'Sending...',\r\n              message: 'Sending cart data!',\r\n            })\r\n        );\r\n\r\n        const sendHttpRequest=async()=>{\r\n            const response = await fetch(\r\n                'https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json',\r\n                {\r\n                    method: 'PUT',\r\n                    body: JSON.stringify(cart),\r\n                }\r\n            );\r\n    \r\n            if (!response.ok) {\r\n                throw new Error('Sending cart data failed.');\r\n            }\r\n        };\r\n\r\n        try{\r\n            await sendHttpRequest();\r\n            dispatch(\r\n                uiActions.showNotification({\r\n                    status: 'success',\r\n                    title: 'Success!',\r\n                    message: 'Sent cart data successfully!',\r\n                })\r\n            );\r\n        }\r\n        catch(error){\r\n            dispatch(\r\n                uiActions.showNotification({\r\n                    status: 'error',\r\n                    title: 'Error!',\r\n                    message: 'Sending cart data failed!',\r\n                })\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// export const sendCartDataCustomActionCreator=(cart)=>{\r\n\r\n//     return (dispatch)=>{\r\n//         dispatch(\r\n//             uiActions.showNotification({\r\n//                 status: 'pending',\r\n//                 title: 'Sending...',\r\n//                 message: 'Sending cart data!',\r\n//             })\r\n//         );\r\n\r\n//         fetch(\r\n//             'https://food-app-a6f82-default-rtdb.firebaseio.com/cart.json',\r\n//             {\r\n//                 method: 'PUT',\r\n//                 body: JSON.stringify(cart),\r\n//             }\r\n//         ).then(()=>{\r\n//             dispatch(\r\n//                 uiActions.showNotification({\r\n//                     status: 'success',\r\n//                     title: 'Success!',\r\n//                     message: 'Sent cart data successfully!',\r\n//                 })\r\n//             );\r\n//         }).catch((error)=>{\r\n//             dispatch(\r\n//                 uiActions.showNotification({\r\n//                     status: 'error',\r\n//                     title: 'Error!',\r\n//                     message: 'Sending cart data failed!',\r\n//                 })\r\n//             );\r\n//         })\r\n//     }\r\n// }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}